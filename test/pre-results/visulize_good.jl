using Plots, Dates
a=["
23.908918080036315" "17:27:52.574";
"14.463959533978853" "17:27:52.861";
"18.202118982566667" "17:27:52.863";
"18.39031429901463" "17:27:52.864";
"16.325316060988722" "17:27:52.866";
"14.953975221442477" "17:27:52.867";
"14.359751560875704" "17:27:52.869";
"14.367776750909542" "17:27:52.87";
"13.954831110639821" "17:27:52.872";
"12.467447763806167" "17:27:52.873";
"11.95376710676135" "17:27:52.874";
"12.53474000766882" "17:27:52.876";
"11.51819201606951" "17:27:52.877";
"10.956046841355052" "17:27:52.878";
"11.279970412249579" "17:27:52.88";
"10.66473902526741" "17:27:52.881";
"10.152806325097346" "17:27:52.888";
"9.98390970086297" "17:27:52.89";
"9.844062663026032" "17:27:52.891";
"9.475675910733608" "17:27:52.893";
"55.450256" "17:30:10";
"63.70554" "17:30:10.428";
"76.23911" "17:30:10.74";
"90.1125" "17:30:11.148";
"89.81146" "17:30:11.431";
"100.01215" "17:30:13.905";
"105.650116" "17:30:15.737";
"108.89857" "17:30:16.086";
"110.386505" "17:30:16.431";
"110.86751" "17:30:16.736";
"110.638626" "17:30:17.03";
"109.861" "17:30:17.348";
"109.583786" "17:30:17.677";
"108.80472" "17:30:17.997";
"107.59737" "17:30:18.307";
"105.99181" "17:30:18.654";
"103.979004" "17:30:18.948";
"101.57057" "17:30:19.273";
"100.29155" "17:30:19.531";
"99.91356" "17:30:19.853";
"102.89426906310462" "17:30:19.859";
"72.4867903525124" "17:30:19.86";
"46.692183055353894" "17:30:19.862";
"26.958299441974365" "17:30:19.863";
"20.988848793598592" "17:30:19.865";
"27.5191529345425" "17:30:19.867";
"31.77945783687218" "17:30:19.868";
"32.19261654120688" "17:30:19.87";
"29.85377965190008" "17:30:19.871";
"25.631602189470126" "17:30:19.873";
"20.44294972252166" "17:30:19.874";
"15.961912012753626" "17:30:19.876";
"14.349491723574411" "17:30:19.877";
"15.701582686038629" "17:30:19.879";
"17.455227408685786" "17:30:19.88";
"17.947099309632282" "17:30:19.882";
"16.955630325454738" "17:30:19.883";
"15.055405773273886" "17:30:19.885";
"13.173866812931864" "17:30:19.887";
"12.066501027763492" "17:30:19.888";
"63.531586" "17:30:20.793";
"70.3219" "17:30:21.2";
"74.03856" "17:30:21.511";
"75.356346" "17:30:21.878";
"73.90744" "17:30:22.313";
"71.580154" "17:30:22.698";
"73.09373" "17:30:23.123";
"70.93234" "17:30:23.453";
"66.97326" "17:30:23.823";
"59.184372" "17:30:24.124";
"64.92076" "17:30:24.52";
"66.09159" "17:30:24.987";
"59.282707" "17:30:25.432";
"56.359097" "17:30:25.818";
"57.77132" "17:30:26.273";
"45.81396" "17:30:26.752";
"45.47974" "17:30:27.085";
"48.293953" "17:30:27.461";
"44.112705" "17:30:27.859";
"38.33211" "17:30:28.219";
"29.1106144112681" "17:30:28.221";
"16.863129246135824" "17:30:28.223";
"21.469221296822415" "17:30:28.224";
"24.451504471126327" "17:30:28.226";
"22.641558033904307" "17:30:28.228";
"18.358338817176094" "17:30:28.231";
"13.97222560636477" "17:30:28.232";
"11.742127581307642" "17:30:28.234";
"11.829261595741386" "17:30:28.236";
"12.144612967121358" "17:30:28.238";
"11.722685275885324" "17:30:28.24";
"10.795510934289448" "17:30:28.241";
"9.505458690477697" "17:30:28.243";
"8.268657781952445" "17:30:28.245";
"7.809709344835771" "17:30:28.247";
"8.409884375558383" "17:30:28.249";
"8.705589685159495" "17:30:28.251";
"8.094973905310225" "17:30:28.253";
"7.138194661308531" "17:30:28.254";
"6.451720566500355" "17:30:28.256";
"44.72667" "17:30:29.937";
"54.03601" "17:30:30.365";
"58.72908" "17:30:30.916";
"58.7531" "17:30:31.341";
"55.293983" "17:30:31.807";
"54.283268" "17:30:32.213";
"50.8247" "17:30:32.528";
"52.30549" "17:30:32.93";
"51.832645" "17:30:33.321";
"48.467236" "17:30:33.721";
"48.711605" "17:30:34.088";
"50.039333" "17:30:34.561";
"48.463642" "17:30:34.909";
"46.111095" "17:30:35.334";
"47.391342" "17:30:35.733";
"45.76744" "17:30:36.185";
"45.54458" "17:30:36.55";
"42.452587" "17:30:36.934";
"43.378273" "17:30:37.314";
"40.86766" "17:30:37.801";
"34.224546541904104" "17:30:37.802";
"20.690081533542763" "17:30:37.804";
"16.87089184783634" "17:30:37.808";
"19.41019725665371" "17:30:37.81";
"21.010021773896128" "17:30:37.811";
"18.786579205736082" "17:30:37.812";
"15.202535337026715" "17:30:37.814";
"12.334665054757062" "17:30:37.815";
"10.869808034602398" "17:30:37.817";
"10.213267972654487" "17:30:37.818";
"10.925783317270849" "17:30:37.82";
"10.569897780388688" "17:30:37.822";
"9.461448664958153" "17:30:37.823";
"9.088373175851764" "17:30:37.825";
"9.245948206079122" "17:30:37.826";
"8.53288385631793" "17:30:37.828";
"7.558470341474014" "17:30:37.829";
"6.508280726062224" "17:30:37.831";
"6.481304605910951" "17:30:37.833";
"7.2666132284831955" "17:30:37.835";
"41.850376" "17:30:38.674";
"66.26185" "17:30:39.372";
"54.60947" "17:30:39.963";
"32.510094" "17:30:40.606";
"51.074642" "17:30:41.063";
"28.664633" "17:30:41.755";
"30.306587" "17:30:42.22";
"15.147215" "17:30:43.039";
"23.782793" "17:30:43.606";
"19.002993" "17:30:44.461";
"8.787821" "17:30:45.269";
"13.101144" "17:30:45.776";
"13.728193" "17:30:46.577";
"6.2133594" "17:30:47.421";
"4.916186" "17:30:48.184";
"8.662348" "17:30:48.887";
"5.077702" "17:30:49.728";
"5.6022034" "17:30:50.426";
"8.474883" "17:30:51.172";
"4.9741273" "17:30:51.958";
"18.77114034968427" "17:30:51.959";
"14.046343415577093" "17:30:51.961";
"12.306814220721247" "17:30:51.962";
"10.005431410399392" "17:30:51.963";
"8.525267166193675" "17:30:51.964";
"10.869814181719663" "17:30:51.966";
"9.574841259740191" "17:30:51.967";
"6.1687697525020795" "17:30:51.968";
"7.728312099892402" "17:30:51.969";
"8.25230175374919" "17:30:51.971";
"6.541301837158007" "17:30:51.975";
"6.658201376578983" "17:30:51.977";
"6.546135258265819" "17:30:51.978";
"5.868650712480528" "17:30:51.979";
"6.318388838599809" "17:30:51.981";
"5.616184872491648" "17:30:51.982";
"4.971399821761165" "17:30:51.984";
"5.9276363567125205" "17:30:51.985";
"5.423998062420753" "17:30:51.987";
"4.738778674564512" "17:30:51.988";
"47.77442" "17:30:52.872";
"76.51193" "17:30:53.759";
"56.237415" "17:30:54.691";
"51.050514" "17:30:55.468";
"36.433197" "17:30:56.326";
"32.724205" "17:30:57.01";
"32.84369" "17:30:57.671";
"26.49535" "17:30:58.473";
"20.50503" "17:30:59.181";
"14.654626" "17:30:59.812";
"14.120778" "17:31:00.392";
"13.615862" "17:31:01.029";
"11.383756" "17:31:01.69";
"11.854716" "17:31:02.449";
"7.492182" "17:31:03.31";
"8.005376" "17:31:04.139";
"9.380755" "17:31:05.101";
"8.147045" "17:31:06.047";
"7.7330875" "17:31:06.722";
"6.198367" "17:31:07.602"
]

function parse_dates(x)
    t=split(x,(':','.'))
    w=map(x->parse(Float64,x),t)
    Dates.Time(w...)
end
function norm_time(x)
    abs_times = x
    start_time = abs_times[1]
    norm_times = Vector(undef,length(abs_times))
    for i in 1:length(abs_times)
        norm_times[i] = abs_times[i]-start_time
    end
    norm_times
end

loss_values = map(x->parse(Float64,x),a[:,1])
time_values = map(x->parse_dates(x),a[:,2])
norm_time_vals = norm_time(time_values)


print(time_values[200]-time_values[1])
plot(time_values[1:20],loss_values[1:20],linecolor="blue")
plot!(time_values[21:40],loss_values[21:40],linecolor="red")
plot!(time_values[41:60],loss_values[41:60],linecolor="blue")
plot!(time_values[61:80],loss_values[61:80],linecolor="red")
plot!(time_values[81:100],loss_values[81:100],linecolor="blue")
plot!(time_values[101:120],loss_values[101:120],linecolor="red")
plot!(time_values[121:140],loss_values[121:140],linecolor="blue")
plot!(time_values[141:160],loss_values[141:160],linecolor="red")
plot!(time_values[161:180],loss_values[161:180],linecolor="blue")
plot!(time_values[181:200],loss_values[181:200],linecolor="red")
Int64(norm_time_vals[1])

print(loss_values[200])
